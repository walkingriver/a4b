<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>04-A Simple Angular Component</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="a-simple-angular-component">A Simple Angular Component</h1>
<p>Embracing simplicity can often lead to powerful results, and Angular
components are no exception. With just a dash of HTML and CSS, we can
craft reusable components that can become the cornerstone of any
project. This chapter will guide you through the process of creating one
such universally applicable component - a ‘Loading’ indicator.</p>
<p>In the realm of web development, one of the most common requirements
is a visual indication of data being fetched from a remote service. A
Loading indicator serves this purpose, subtly communicating to the user
that their request is in progress and that the application is actively
working to retrieve their data. Angular’s robust framework makes the
creation of such a component impressively straightforward.</p>
<p>So, let’s delve into the intricacies of crafting a reusable Loading
indicator with Angular, illustrating just how simple and effective
component creation can be. You might find that Angular’s simplicity and
power make it a joy to work with, transforming even the most mundane
tasks into engaging challenges.</p>
<p>As we progress through this journey, I encourage you to follow along
in your code editor of choice. The beauty of coding is that it’s
accessible from a variety of platforms - be it Atom, Sublime, WebStorm
or any other tool that you’re comfortable with. However, for the purpose
of this guide, I’ll be using Visual Studio Code (VS Code) and the
Angular CLI that we installed in the previous chapter. VS Code provides
an intuitive and user-friendly interface, while the Angular CLI makes it
easy to create, manage, and build Angular applications. Remember, the
goal is not just to read and understand, but also to get your hands
dirty with actual code. There’s no better way to learn than by
doing.</p>
<h2 id="create-a-new-angular-application">Create a New Angular
Application</h2>
<p>Before we dive into creating our “Loading” component, we need an
Angular application to house it. This is where the Angular CLI,
installed in the previous chapter, comes into play. The CLI, or Command
Line Interface, is a powerful tool that allows us to scaffold and manage
Angular applications directly from the command line.</p>
<p>We’ll start by creating a new Angular application. Open your terminal
and navigate to the directory where you’d like to create your project.
Then, type the following command:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ng</span> new <span class="at">--standalone</span></span></code></pre></div>
<p>This command asks the Angular CLI to create a new application with
the <code>standalone</code> format introduced in Angular 15.2. Follow
the prompts that appear after running this command to set up routing and
select a stylesheet format. For the sample code in this book, using the
Angular Router and CSS for styles will suffice. Once the process
completes, you’ll have a fresh Angular application ready for
development.</p>
<p>Before you go any further, open the app.component.html file and
remove its contents. Angular gives you a lot of content, but it’ll just
get in the way and confuse things. If you want to leave something like
<code>&lt;h1&gt;My Great App!&lt;/h1&gt;</code>, that’s fine.</p>
<p>Navigate into your new project’s directory using the command
<code>cd &lt;app-name&gt;</code>. Now we’re set up and ready to create
our “Loading” component.</p>
<h2 id="create-the-component">Create the Component</h2>
<p>To create the component, I used the Angular CLI. I like to use the
integrated terminal inside of VS Code, but use whatever you’re
comfortable with. Whatever you use, ensure that you are physically in
the root folder of the application you just created.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npx</span> ng generate component Loading <span class="at">--skip-tests</span> <span class="at">--dry-run</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.scss <span class="er">(</span><span class="ex">0</span> bytes<span class="kw">)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.html <span class="er">(</span><span class="ex">22</span> bytes<span class="kw">)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.ts <span class="er">(</span><span class="ex">301</span> bytes<span class="kw">)</span></span></code></pre></div>
<p>This command asks the Angular CLI to generate a new component named
“Loading”, not to bother generating a test file (I will explain why not
shortly) and then simply show me what the command will do
(–dry-run).</p>
<p>I almost always do a dry run before having the CLI generate anything
for me. That way, I can see what files it will create and where it will
put them. On some projects I like to organize components differently
than the default folders. Seeing the file paths before creation gives me
a chance to correct them, simply by pre-pending the path to the name of
the component.</p>
<p>In this case, I am comfortable with the component living in its own
folder under app, so I can rerun the command without the –dry-run
flag.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npx</span> ng generate component Loading <span class="at">--skip-tests</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.scss <span class="er">(</span><span class="ex">0</span> bytes<span class="kw">)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.html <span class="er">(</span><span class="ex">22</span> bytes<span class="kw">)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> src/app/loading/loading.component.ts <span class="er">(</span><span class="ex">301</span> bytes<span class="kw">)</span></span></code></pre></div>
<p>A note about the npx prefix: I need to add this to the command
because my ng is not installed globally. Using npx causes the Angular
CLI installed in my project’s node_modules folder to be used. If your
Angular CLI is installed globally, you can omit the npx prefix.</p>
<h2 id="component-code">Component Code</h2>
<p>This is the simplest part because there really is no logic to speak
of. I am simply creating a visual component with no other behavior.</p>
<p>Inside the file loading.component.ts, the generated code looks like
this:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Component } <span class="im">from</span> <span class="st">&#39;@angular/core&#39;</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { CommonModule } <span class="im">from</span> <span class="st">&#39;@angular/common&#39;</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>@<span class="fu">Component</span>({</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  selector<span class="op">:</span> <span class="st">&#39;app-loading&#39;</span><span class="op">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  standalone<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  imports<span class="op">:</span> [CommonModule]<span class="op">,</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  templateUrl<span class="op">:</span> <span class="st">&#39;./loading.component.html&#39;</span><span class="op">,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  styleUrls<span class="op">:</span> [<span class="st">&#39;./loading.component.css&#39;</span>]<span class="op">,</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">class</span> LoadingComponent {}</span></code></pre></div>
<p>As I said, there is not much here. After the two imports is the <span
class="citation" data-cites="Component">@Component</span> decorator,
which defines how the component will be implemented. selector defines
the custom component’s HTML tag. This is how the component will be
placed on a page.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;app-loading&gt;&lt;/app-loading&gt;</span></span></code></pre></div>
<p>You can also see that <code>standalone</code> is set to true, meaning
we will not need an <code>NgModule</code> to use the component.
Following that is the <code>imports</code> array which we saw in the
Gentle Introduction to Angular. Finally, the <code>templateUrl</code>
and <code>styleUrls</code> are specified. These two lines tell the
Angular compiler (and us) where to find the markup and styles for the
component, respectively.</p>
<p>Next is the class body itself, which should be empty. We’ll fix that
now by adding two variables.</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Component<span class="op">,</span> Input } <span class="im">from</span> <span class="st">&#39;@angular/core&#39;</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { CommonModule } <span class="im">from</span> <span class="st">&#39;@angular/common&#39;</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>@<span class="fu">Component</span>({</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  selector<span class="op">:</span> <span class="st">&#39;app-loading&#39;</span><span class="op">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  standalone<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  imports<span class="op">:</span> [CommonModule]<span class="op">,</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  templateUrl<span class="op">:</span> <span class="st">&#39;./loading.component.html&#39;</span><span class="op">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  styleUrls<span class="op">:</span> [<span class="st">&#39;./loading.component.css&#39;</span>]<span class="op">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">class</span> LoadingComponent {</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  @<span class="fu">Input</span>() label <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  @<span class="fu">Input</span>() shown <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>@Input</code> decorators tell Angular to expose those two
variables as attributes on the custom HTML tag.</p>
<ul>
<li><code>label</code> will be bound to some text in the HTML so that we
can tell the user exactly what is loading. If you do not need that, you
could eliminate it entirely.</li>
<li><code>shown</code> allows the host to show or hide the component as
necessary. Something like this:</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;app-loading</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ot">  label=</span><span class="st">&quot;Loading data now...&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ot">  [shown]=</span><span class="st">&quot;isLoading&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">&gt;&lt;/app-loading&gt;</span></span></code></pre></div>
<p>With this example markup, I have hard-coded the loading message, but
have bound the shown attribute to a variable on the host component.
Whenever <code>isLoading</code> is true in the host component, the
loading component will be visible; otherwise it will be hidden. That is
all the host needs to be concerned with. How the visibility is
implemented inside the loading component is irrelevant to the host.</p>
<h2 id="markup">Markup</h2>
<p>Now let us take a look at the markup. This, too, is pretty simple,
almost trivial.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;wrapper&quot;</span> <span class="er">[class.hidden]</span><span class="ot">=</span><span class="st">&quot;!shown&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;./images/loading.gif&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;h1&gt;</span>Please Wait While We Complete Your Request<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;p&gt;</span>{{label}}<span class="kw">&lt;/p&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
<p>The component consists of a single <code>&lt;div&gt;</code> with a
class called <code>wrapper</code>, which I show in Figure 4.1. We will
see more of that in the next section on styling. Inside this
<code>&lt;div&gt;</code> are three more elements:</p>
<figure>
<img src="image-9.png" alt="Figure 4.1, Loading GIF from Pixabay.com" />
<figcaption aria-hidden="true">Figure 4.1, Loading GIF from
Pixabay.com</figcaption>
</figure>
<ul>
<li>An <code>&lt;img&gt;</code> tag pointing at an animated gif. You can
use any animated gif you’d like. I found a suitable one at pixabay.com
(which I’ll touch on in more detail later in the book. For reference,
this is the image I used: <a
href="https://pixabay.com/gifs/load-loading-process-wait-delay-37">Pixabay
Image</a> or
https://pixabay.com/gifs/load-loading-process-wait-delay-37.</li>
<li>The image is placed in an images folder just inside the loading
component’s folder. At build time, it will be copied to the correct
place and referenced appropriately.</li>
<li>A title represented by an <code>&lt;h1&gt;</code> tag containing a
hard-coded message to the user.</li>
<li>The final piece of content is a <code>&lt;p&gt;</code> tag with its
text bound to the <code>@Input() label</code> field on the component.
Whatever the host component passes as the label attribute will be
displayed here.</li>
</ul>
<h2 id="styling">Styling</h2>
<p>The real magic happens in the component’s stylesheet. I will show the
entire thing, followed by an explanation of the relevant sections.</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>h1 {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">line-height</span>: <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-size</span>: <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">.loader</span> {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">width</span>: <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">height</span>: <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-image</span>: <span class="fu">url(</span><span class="st">images/loading.gif</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-repeat</span>: <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-size</span>: <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="fu">.hidden</span> {</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="fu">.wrapper</span> {</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-weight</span>: <span class="dv">400</span><span class="op">;</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">line-height</span>: <span class="dv">18</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">60</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-color</span>: <span class="cn">#ffffff</span><span class="op">;</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">z-index</span>: <span class="dv">9000</span><span class="op">;</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">width</span>: <span class="dv">480</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">height</span>: <span class="dv">326</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="kw">top</span>: <span class="dv">50</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">left</span>: <span class="dv">50</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">transform</span>: <span class="fu">translate(</span><span class="dv">-50</span><span class="dt">%</span><span class="op">,</span> <span class="dv">-50</span><span class="dt">%</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>  <span class="kw">outline</span>: <span class="dv">9999</span><span class="dt">px</span> <span class="dv">solid</span> <span class="fu">rgba(</span><span class="dv">217</span><span class="op">,</span> <span class="dv">217</span><span class="op">,</span> <span class="dv">217</span><span class="op">,</span> <span class="dv">0.75</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="h1">h1</h2>
<p>The first rule is for the <code>&lt;h1&gt;</code> tag, and it is
pretty straightforward. It simply sets the font-size to 30px, and the
line-height to a slightly lower value. These values do not materially
change the component. They are purely aesthetic and you could change
them to reflect your own personal style. One thing of note is that the
Loading Component will inherit its host’s font selection, whatever that
may be.</p>
<h2 id="div.loader">.div.loader</h2>
<p>The elements with the class <code>.loader</code> have a width and
height of 150 pixels, and are displayed as inline-block. They have a
background image set to images/loading.gif, with no repeating and a
background size set to contain. This is the animated gif. INSERT IMAGE
HERE One of the little bits of “magic” that Angular does for us is that
it will ensure that the image referenced in the CSS file will be copied
to the right place at build time and the CSS references updated as
needed.</p>
<h2 id="hidden">.hidden</h2>
<p>The component’s visibility is driven by this class. The wrapping
<code>&lt;div&gt;</code> either does or does not have this class set,
based on the value of the shown attribute.</p>
<p>Why did I not put the hidden class on the host and let the host
handle it directly? The reason I wanted to use shown is so that I could
change the visibility implementation at will, without changing any of
the host code. For example, I could add some CSS animation or implement
some other complex code, all without the host components even knowing
about it. They would continue to set <code>[shown]</code> as they do
now.</p>
<h2 id="wrapper">.wrapper</h2>
<p>This is the big one, so I will show the code again for convenience,
explaining it as I go.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>text-align<span class="in">: center</span>;</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>font-weight<span class="in">: 400;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>line-height<span class="in">: 18px;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>padding<span class="in">: 60px 20px 20px 20px;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>background-color<span class="in">: #ffffff</span>;</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>z-index<span class="in">: 9000;</span></span></code></pre></div>
<p>You can see some various rules that dictate how the component looks.
The first line indicates that everything inside the wrapper will be
centered, text and images both. The next three lines set the text
font-weight to 400 (normal), a default line-height of 18px, and some
internal padding to provide whitespace.</p>
<p>It has a background color of white, indicated by the value
#ffffff.</p>
<p>The z-index of 9000 is a relative position of depth. Elements with
larger numbers appear “on top of” or “in front of” elements with a
z-index value that is smaller. Setting the loading component’s z-index
to 9000 gives it a decent likelihood that no other elements will appear
in front of it. Should you find that is not the case, set a higher
value. Browsers do not seem to have a standard “maximum” value, but most
modern browsers should allow values up to (2^{31} - 1).</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>width<span class="in">: 480px;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>height<span class="in">: 326px;</span></span></code></pre></div>
<p>These two values simply set a fixed width and height for the
component. We could be clever and specify values in terms of window or
viewport size, but I wanted to keep this part simple. Feel free to
experiment with different values. That’s what source control is for,
right?</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>position<span class="in">: absolute</span>;</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>top<span class="in">: 50%;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>left<span class="in">: 50%;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>transform<span class="in">: translate(-50%, -50%)</span>;</span></code></pre></div>
<p>This next block helps to position the loading component. The
combination of positioning the element at top: 50% and left: 50%, along
with the transform: translate(-50%, -50%) property, is commonly used to
center an element horizontally and vertically.</p>
<p>Setting top: 50% and left: 50% positions the element’s top-left
corner at the exact center of its parent container. However, this alone
would not center the element perfectly, as it would be offset by half of
its own width and height.</p>
<p>That’s where the translate(-50%, -50%) comes into play. It moves the
element back by 50% of its own width and height in both the horizontal
and vertical directions. This effectively centers the element perfectly,
regardless of its size.</p>
<p>By combining these positioning and transformation properties, you
achieve a consistent and reliable way to center an element both
horizontally and vertically.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>outline<span class="in">: 9999px solid</span> rgba(217<span class="op">,</span> 217<span class="op">,</span> 217<span class="op">,</span> 0<span class="fu">.75</span>);</span></code></pre></div>
<p>The clever bit I find is the last line: outline. The component’s
outline is being defined as a 75% opaque (i.e., 25% transparent) solid
gray line 9999px wide. This ends up covering the entire host component
with the outline, preventing it from being selectable.</p>
<p>And that is the entire component!</p>
<h2 id="use">Use</h2>
<p>I hinted at its use above, but there are three things you would need
to use it in your own project.</p>
<ol type="1">
<li>Include the source files.</li>
<li>Import the component in the host’s components imports array.</li>
<li>Supply some HTML markup to call it, which looks like this.</li>
</ol>
<div class="sourceCode" id="cb14"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;app-loading</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ot">  [label]=</span><span class="st">&quot;loadingText&quot;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ot">  [shown]=</span><span class="st">&quot;isLoading&quot;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">&gt;&lt;/app-loading&gt;</span></span></code></pre></div>
<p>In this sample code, I am using Angular’s attribute binding syntax to
bind the label and shown attributes to the host component’s loadingText
and isLoading variables, respectively. Changes to these variables on the
host component will cause Angular to re-render the loading component as
necessary.</p>
<p>If you are following along, you should be able to drop the component
right onto the app.component.html page, like this:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h1&gt;</span>My Great App!<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;button</span> <span class="er">(click)</span><span class="ot">=</span><span class="st">&quot;load()&quot;</span><span class="kw">&gt;</span>Toggle Loading<span class="kw">&lt;/button&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;app-loading</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ot">  label=</span><span class="st">&quot;Loading data now...&quot;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="ot">  [shown]=</span><span class="st">&quot;isLoading&quot;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="kw">&gt;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/app-loading&gt;</span></span></code></pre></div>
<p>In addition to the <code>&lt;h1&gt;</code> element displaying the
text “My Great App!”, you can see I’ve added a
<code>&lt;button&gt;</code> element with the label “Toggle Loading”, and
an <code>&lt;app-loading&gt;</code> component that shows a loading
message when the isLoading variable is true.</p>
<p>To set that isLoading variable, all you need to do is add that load()
function inside of app.component.ts. One possible implementation could
be:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>() {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">this</span><span class="op">.</span><span class="at">isLoading</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">isLoading</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> <span class="dv">2500</span>)<span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The load function will set the isLoading property to true, which will
trigger the display of the loading component. After a delay of 2500
milliseconds, the isLoading property will be set to false, hiding the
loading component.</p>
<h2 id="the-result">The Result</h2>
<p>Start the Angular server by typing <code>ng serve</code> or
<code>npm start</code> at the command line. You should end up with
something like Figure 4.2.</p>
<figure>
<img src="image-8.png" alt="Figure 4.2, Loading toggle button" />
<figcaption aria-hidden="true">Figure 4.2, Loading toggle
button</figcaption>
</figure>
<p>When you click the button, you’ll see the component in action, as
show in Figure 4.3.</p>
<figure>
<img src="image-7.png" alt="Figure 4.3, Visible Loading Indicator" />
<figcaption aria-hidden="true">Figure 4.3, Visible Loading
Indicator</figcaption>
</figure>
<h2 id="summary">Summary</h2>
<p>In this chapter, we’ve debunked the notion that Angular components
have to be complex. We’ve demonstrated that, with minimal HTML and CSS,
it’s entirely possible to craft a reusable “Loading” component. This
component, with its simple yet efficient functionality, can be easily
incorporated into any part of our application, enhancing the user
experience whenever data is being fetched.</p>
<p>Moreover, with a bit more tweaking and refinement, we can evolve this
component into a standalone entity. Such a standalone component,
decoupled from specific project dependencies, could be a versatile tool
in your development toolkit, ready to be dropped into any Angular
project you work on.</p>
<p>But where could we use such a component? That’s what we’ll explore in
our next chapter. We’ll delve into practical applications for our
“Loading” component and see how it can enhance the interactivity and
responsiveness of our applications. So, stay tuned, and let’s continue
this journey of learning and discovery together. As always, I welcome
your thoughts and suggestions on how we can improve and optimize this
component further.</p>
</body>
</html>
